/*! Snakeskin v7.0.0-beta18 (live) | https://github.com/SnakeskinTpl/Snakeskin/blob/master/LICENSE */
(function(){'use strict';function r(){function w(a){return x[a]}function y(a){return z[a]||a}function k(a,b){function d(){this.constructor=a}d.prototype=b.prototype;a.prototype=new d}function l(a,b){a=((A.exec(a)||[])[1]||"").trim();return Boolean(a&&isNaN(Number(a))&&!(b||B)[a])}var f={};f.a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};f.defineProperty=function(a,b,d){b in a?Object.defineProperty(a,
b,{value:d,enumerable:!0,configurable:!0,writable:!0}):a[b]=d;return a};f;var c={VERSION:[7,0,0,"beta18"],UID:null,b:{},Filters:{},Vars:{},LocalVars:{},cache:{}};Array.isArray=Array.isArray||function(a){return"[object Array]"==={}.call(a)};String.prototype.trim=String.prototype.trim||function(){for(var a=this.replace(/^\s\s*/,""),b=a.length,d=/\s/;d.test(a.charAt(--b)););return a.substring(0,b+1)};c.HTMLObject=function(a,b){this.value=a;this.attr=b};c.StringBuffer=function(){return[]};c.Node=function(){};
c.Node.prototype.length=function(){return this.value.childNodes.length};c.Node.prototype.textContent=function(){return this.value.textContent};c.DocumentFragment=function(a){this.renderMode=a;this.value=document.createDocumentFragment()};k(c.DocumentFragment,c.Node);c.DocumentFragment.prototype.appendChild=function(a){this.value.appendChild(a)};c.DocumentFragment.prototype.textContent=function(){for(var a=this.value.childNodes,b="",d=0;d<a.length;d++)b+=a[d].outerHTML||a[d].textContent;return b};
c.Element=function(a,b){this.renderMode=b;this.value=document.createElement(a)};k(c.Element,c.Node);c.Element.prototype.appendChild=function(a){this.value.appendChild(a)};c.Element.prototype.setAttribute=function(a,b){this.value.setAttribute(a,b)};c.Element.prototype.textContent=function(){return this.value.outerHTML};c.Comment=function(a,b){this.renderMode=b;this.value=document.createComment(a)};k(c.Comment,c.Node);c.Text=function(a,b){this.renderMode=b;this.value=document.createTextNode(a)};k(c.Text,
c.Node);c.inlineTags={area:"href",base:"href",br:!0,col:!0,embed:"src",hr:!0,img:"src",input:"value",link:"href",meta:"content",param:"value",source:"src",track:"src",wbr:!0};c.appendChild=function(a,b,d){!1===b instanceof c.Node&&(b=new c.Text(String(b),d));a&&a.appendChild(b.value);return b};c.setAttribute=function(a,b,d){a.setAttribute(b,d instanceof c.Node?d.textContent():String(d))};var p=/\[native code]/.test(Object.keys&&Object.keys.toString())&&Object.keys;c.forEach=function(a,b){if(a){var d=
0;if(Array.isArray(a))for(var d=a.length,c=0;c<d&&!1!==b(a[c],c,a,0===c,c===d-1,d);c++);else if(p)for(var e=p(a),d=e.length,c=0;c<d&&!1!==b(a[e[c]],e[c],a,c,0===c,c===d-1,d);c++);else{if(6<=b.length)for(e in a){if(!a.hasOwnProperty(e))break;d++}c=0;for(e in a){if(!a.hasOwnProperty(e))break;if(!1===b(a[e],e,a,c,0===c,c===d-1,d))break;c++}}}};c.forIn=function(a,b){if(a){var c=0,e=0;if(6<=b.length)for(var f in a)c++;for(var m in a){if(!1===b(a[m],m,a,e,0===e,e===c-1,c))break;e++}}};c.decorate=function(a,
b){c.forEach(a,function(a){return b=a(b)});b.decorators=a;return b};var t=/([\\\/'*+?|()\[\]{}.^$-])/g,A=/^\(*\s*(.*?)\s*\)*$/,B={"false":!0,"null":!0,"true":!0,undefined:!0},C={stringBuffer:!0,stringConcat:!0},u={"-":!0,":":!0,_:!0},h,g;h={};f.defineProperty(h,"///","///");f.defineProperty(h,"/*","/*");f.defineProperty(h,"*/","*/");h=f.defineProperty({"-":!0},"#",!0);var D={};c.forEach(h,function(a,b){return D[b]=!0});var E=(g={"\\":!0},f.defineProperty(g,"`",!0),f.defineProperty(g,"{",!0),f.defineProperty(g,
"#",!0),f.defineProperty(g,"/",!0),f.defineProperty(g,"/",!0),f.defineProperty(g,"&",!0),f.defineProperty(g,".",!0),f.defineProperty(g,"|",!0),f.defineProperty(g," :: ".trim().charAt(0),!0),g);c.forEach(h,function(a,b){return E[b.charAt(0)]=!0});g={"\\":!0};f.defineProperty(g,"/",!0);f.defineProperty(g,"/",!0);f.defineProperty({"\\":!0},"$",!0);"@".replace(t,"\\$1");var F=[];c.forEach(u,function(a,b){F.push(b.replace(t,"\\$1"))});var v=/([^\s=]+)/,e=c.Filters;c.importFilters=function(a,b){var d=e;
b&&c.forEach(b.split("."),function(a){d[a]=d[a]||{};d=d[a]});c.forEach(a,function(a,b){return d[b]=a});return this};c.setFilterParams=function(a,b){if("string"===typeof a)return e[a].ssFilterParams=b,e[a];a.ssFilterParams=b;return a};e.console={dir:function(a){var b;(b=console).dir.apply(b,arguments);return a},error:function(a){var b;(b=console).error.apply(b,arguments);return a},info:function(a){var b;(b=console).info.apply(b,arguments);return a},log:function(a){var b;(b=console).log.apply(b,arguments);
return a},table:function(a){var b;(b=console).table.apply(b,arguments);return a},warn:function(a){var b;(b=console).warn.apply(b,arguments);return a}};var z={'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;"},G=/[<>"'\/]|&(?!#|[a-z]+;)/g,x={"&#39;":"'","&#x2F;":"/","&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"'},H=/&amp;|&lt;|&gt;|&quot;|&#39;|&#x2F;/g;e.html=function(a,b,d,f,g){return!a||a instanceof c.Node?a:a instanceof c.HTMLObject?(c.forEach(a.value,function(c,d,n){a.attr?f[d]=n[d]=
c[0]!==g?[e.html(c[0],b,a.attr,f,g)]:c:n[d]=e.html(c,b)}),a):"function"===typeof b&&a instanceof b?a.value:String(d?e[d](a):a).replace(G,y)};c.setFilterParams("html",{bind:["Unsafe","__ATTR_TYPE__",function(a){return a.getVar("__ATTR_CACHE__")},"TRUE"],test:function(a){return l(a)}});e.htmlObject=function(a){return a instanceof c.HTMLObject?"":a};c.setFilterParams("htmlObject",{test:function(a){return l(a)}});e.undef=function(a){return void 0!==a?a:""};c.setFilterParams("undef",{test:function(a){return l(a,
{"false":!0,"null":!0,"true":!0})}});e.uhtml=function(a){return String(a).replace(H,w)};var I=/<\/?[^>]+>/g;e.stripTags=function(a){return String(a).replace(I,"")};var J=/%5B/g,K=/%5D/g;e.uri=function(a){return encodeURI(String(a)).replace(J,"[").replace(K,"]")};e.upper=function(a){return String(a).toUpperCase()};e.ucfirst=function(a){a=String(a);return a.charAt(0).toUpperCase()+a.slice(1)};e.lower=function(a){return String(a).toLowerCase()};e.lcfirst=function(a){a=String(a);return a.charAt(0).toLowerCase()+
a.slice(1)};e.trim=function(a){return String(a).trim()};var L=/\s{2,}/g;e.collapse=function(a){return String(a).replace(L," ").trim()};e.truncate=function(a,b,c,e){a=String(a);if(!a||a.length<=b)return a;a=a.slice(0,b-1);b=a.length;for(var f=void 0;b--&&c;)if(" "===a.charAt(b))f=b;else if(void 0!==f)break;return(void 0!==f?a.slice(0,f):a)+(e?"&#8230;":"\u2026")};e.repeat=function(a,b){return Array(null!=b?b+1:3).join(a)};e.remove=function(a,b){return String(a).replace(b,"")};e.replace=function(a,
b,c){return String(a).replace(b,c)};var M=/\${(.*?)}/g;e.tpl=function(a,b){return String(a).replace(M,function(a,c){return c in b?b[c]:""})};e.json=function(a){return JSON.stringify(a)};e.string=function(a){return"object"===("undefined"===typeof a?"undefined":f.a(a))&&!1===a instanceof String?JSON.stringify(a):String(a)};e.parse=function(a){return"string"===typeof a?JSON.parse(a):a};e.bem=function(a,b,c){return String(a)+String(c)};c.setFilterParams("bem",{bind:["$0"]});e["default"]=function(a,b){return void 0===
a?b:a};c.setFilterParams("default",{"!undef":!0});var N=/\r?\n|\n/g;e.nl2br=function(a,b,d,f,g){a=a.split(N);for(var m="",h=0;h<a.length;h++){var n=a[h],k=h===a.length-1;f||C[d]?(m+=e.html(n),k||(m+="<br"+("xml"===g?"/":"")+">")):(c.appendChild(b,n,d),k||c.appendChild(b,new c.Element("br",d),d))}return m};c.setFilterParams("nl2br",{"!html":!0,bind:["$0",function(a){return"'"+a.renderMode+"'"},function(a){return a.stringResult},"$0",function(a){return"'"+a.doctype+"'"}]});e.attrKey=e.attrKeyGroup=
function(a){return(a=v.exec(String(a)))&&a[1]||"undefined"};e.attrKeyGroup=function(a){return(a=v.exec(String(a)))&&a[1]||""};var O=/(javascript)(:|;)/g;e.attrVal=function(a){return String(a).replace(O,"$1&#31;$2")};e.attr=function(a,b,d,f,g,h){function k(a,b){b=b||"";c.forEach(a,function(a,c){if(a!==h){if(Boolean(a)&&a.constructor===Object){var d=e.attrKeyGroup(c);return k(a,b+(!d.length||u[d.slice(-1)]?d:d+"-"))}for(var d=b+c,g=d[0].toLowerCase(),l=1;l<d.length;l++){var q=d.charAt(l),p=q.toUpperCase();
p===q&&p!==q.toLowerCase()?g+="-"+q:g+=q}d=g;f[d]=n[d]=[a]}});return new c.HTMLObject(n,"attrVal")}if("attrKey"!==d||!Boolean(a)||a.constructor!==Object)return String(a);var n={};return k(a)};c.setFilterParams("attr",{"!html":!0,bind:[function(a){return"'"+a.doctype+"'"},"__ATTR_TYPE__",function(a){return a.getVar("__ATTR_CACHE__")},"TRUE","FALSE"],test:function(a){return l(a)}});return c}
"object"===typeof exports&&"undefined"!==typeof module?module.exports=r():"function"===typeof define&&define.amd?define("Snakeskin",r):this.Snakeskin=r();
}).call(this);
