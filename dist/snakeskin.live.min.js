/*! Snakeskin v7.2.8 (live) | https://github.com/SnakeskinTpl/Snakeskin/blob/master/LICENSE */
(function(){'use strict';
function p(){function y(a){return z[a]}function A(a){return B[a]||a}function e(a,c,b){c in a?Object.defineProperty(a,c,{value:b,enumerable:!0,configurable:!0,writable:!0}):a[c]=b;return a}function q(a){return"function"===typeof a}function m(a,c){function b(){this.constructor=a}b.prototype=c.prototype;a.prototype=new b}function l(a,c){a=((C.exec(a)||[])[1]||"").trim();return!(!a||!isNaN(Number(a))||(c||D)[a])}var k=void 0,b=k={VERSION:[7,2,8]};k.UID=null;k.a={};k.Filters={};k.Vars={};k.LocalVars={};
k.cache={};Array.isArray=Array.isArray||function(a){return"[object Array]"==={}.call(a)};String.prototype.trim=String.prototype.trim||function(){for(var a=this.replace(/^\s\s*/,""),c=a.length,b=/\s/;b.test(a.charAt(--c)););return a.substring(0,c+1)};b.HTMLObject=function(a,c){this.value=a;this.attr=c};b.StringBuffer=function(){return[]};b.Node=function(){};b.Node.prototype.length=function(){return this.value.childNodes.length};b.Node.prototype.textContent=function(){return this.value.textContent};
b.DocumentFragment=function(a){this.renderMode=a;this.value=document.createDocumentFragment()};m(b.DocumentFragment,b.Node);b.DocumentFragment.prototype.appendChild=function(a){this.value.appendChild(a)};b.DocumentFragment.prototype.textContent=function(){for(var a=this.value.childNodes,c="",b=0;b<a.length;b++)c+=a[b].outerHTML||a[b].textContent;return c};b.Element=function(a,c){this.renderMode=c;this.value=document.createElement(a)};m(b.Element,b.Node);b.Element.prototype.appendChild=function(a){this.value.appendChild(a)};
b.Element.prototype.setAttribute=function(a,c){this.value.setAttribute(a,c)};b.Element.prototype.textContent=function(){return this.value.outerHTML};b.Comment=function(a,c){this.renderMode=c;this.value=document.createComment(a)};m(b.Comment,b.Node);b.Text=function(a,c){this.renderMode=c;this.value=document.createTextNode(a)};m(b.Text,b.Node);b.inlineTags={html:{area:"href",base:"href",br:!0,col:!0,embed:"src",hr:!0,img:"src",input:"value",link:"href",meta:"content",param:"value",source:"src",track:"src",
wbr:!0},xml:{}};b.appendChild=function(a,c,f){!1===c instanceof b.Node&&(c=new b.Text(String(c),f));a&&a.appendChild(c.value);return c};b.setAttribute=function(a,c,f){a.setAttribute(c,f instanceof b.Node?f.textContent():String(f))};var r=/\[native code]/.test(Object.keys&&Object.keys.toString())&&Object.keys;b.forEach=function(a,c){if(a){var b=0;if(Array.isArray(a))for(var b=a.length,g=0;g<b&&!1!==c(a[g],g,a,{isFirst:!g,isLast:g===b-1,length:b});g++);else if(r)for(var g=r(a),b=g.length,d=0;d<b&&!1!==
c(a[g[d]],g[d],a,{i:d,isFirst:!d,isLast:d===b-1,length:b});d++);else{if(4<=c.length)for(d in a){if(!a.hasOwnProperty(d))break;b++}d=0;for(g in a){if(!a.hasOwnProperty(g))break;if(!1===c(a[g],g,a,{i:d,isFirst:!d,isLast:d===b-1,length:b}))break;d++}}}};b.forIn=function(a,c){if(a){var b=0,d=0;if(4<=c.length)for(var e in a)b++;for(var t in a){if(!1===c(a[t],t,a,{i:d,isFirst:!d,isLast:d===b-1,length:b}))break;d++}}};b.decorate=function(a,c){b.forEach(a,function(a){return c=a(c)||c});c.decorators=a;return c};
var E=/([\\\/'*+?|()\[\]{}.^$-])/g,C=/^\(*\s*(.*?)\s*\)*$/,D={"false":!0,"null":!0,"true":!0,undefined:!0},F={stringBuffer:!0,stringConcat:!0},u={"-":!0,":":!0,_:!0},G="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},h,k={};e(k,"///","///");e(k,"/*","/*");e(k,"*/","*/");var v=e({"-":!0},"#",!0),H={};b.forEach(v,function(a,c){return H[c]=!0});k=
{"\\":!0,'"':!0,"'":!0,"/":!0};e(k,"`",!0);e(k,"{",!0);e(k,"/",!0);e(k,"/",!0);var I=(h={"\\":!0},e(h,"`",!0),e(h,"{",!0),e(h,"#",!0),e(h,"/",!0),e(h,"/",!0),e(h,"&",!0),e(h,".",!0),e(h,"|",!0),e(h," :: ".trim().charAt(0),!0),h);b.forEach(v,function(a,c){return I[c.charAt(0)]=!0});h={"\\":!0};e(h,"`",!0);e(h,"/",!0);e(h,"/",!0);e({"\\":!0},"$",!0);var J=[];b.forEach(u,function(a,c){J.push(c.replace(E,"\\$1"))});var w=/([^\s=]+)/,d=b.Filters;b.importFilters=function(a,c){var f=d;c&&b.forEach(c.split("."),
function(a){f[a]=f[a]||{};f=f[a]});b.forEach(a,function(a,c){return f[c]=a});return this};b.setFilterParams=function(a,c){function b(a,c){for(var b,d=arguments.length,g=Array(2<d?d-2:0),f=2;f<d;f++)g[f-2]=arguments[f];if(a&&q(c)&&a instanceof c){var k;a.value=(k=e).call.apply(k,[this,a.value].concat(g));return a}return(b=e).call.apply(b,[this,a].concat(g))}var g=c.safe;g&&(c.bind=["Unsafe"].concat(c.bind||[]));var e=void 0;if("string"===typeof a)return g&&(e=d[a],d[a]=b),d[a]=d[a]||function(a){return a},
d[a].ssFilterParams=c,d[a];g&&(e=a,a=b);a.ssFilterParams=c;return a};d.console={dir:function(a){var c;(c=console).dir.apply(c,arguments);return a},error:function(a){var c;(c=console).error.apply(c,arguments);return a},info:function(a){var c;(c=console).info.apply(c,arguments);return a},log:function(a){var c;(c=console).log.apply(c,arguments);return a},table:function(a){var c;(c=console).table.apply(c,arguments);return a},warn:function(a){var c;(c=console).warn.apply(c,arguments);return a}};var B=
{'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;"},K=/[<>"'/]|&(?!#|[a-z]+;)/g,z={"&#39;":"'","&#x2F;":"/","&amp;":"&","&gt;":">","&lt;":"<","&quot;":'"'},L=/&amp;|&lt;|&gt;|&quot;|&#39;|&#x2F;/g;d.html=function(a,c,f,g,e){return!a||a instanceof b.Node?a:a instanceof b.HTMLObject?(b.forEach(a.value,function(b,f,k){a.attr?g[f]=k[f]=b[0]!==e?[d.html(b[0],c,a.attr,g,e)]:b:k[f]=d.html(b,c)}),a):q(c)&&a instanceof c?a.value:String(f?d[f](a):a).replace(K,A)};b.setFilterParams("html",{bind:["Unsafe",
"$attrType",function(a){return a.getVar("$attrs")},"TRUE"],test:function(a){return l(a)}});d.htmlObject=function(a){return a instanceof b.HTMLObject?"":a};b.setFilterParams("htmlObject",{test:function(a){return l(a)}});d.undef=function(a){return void 0!==a?a:""};b.setFilterParams("undef",{test:function(a){return l(a,{"false":!0,"null":!0,"true":!0})}});d.uhtml=function(a){return String(a).replace(L,y)};var M=/<\/?[^>]+>/g;d.stripTags=function(a){return String(a).replace(M,"")};var N=/%5B/g,O=/%5D/g;
d.uri=function(a){return encodeURI(String(a)).replace(N,"[").replace(O,"]")};b.setFilterParams("uri",{safe:!0});d.upper=function(a){return String(a).toUpperCase()};b.setFilterParams("upper",{safe:!0});d.ucfirst=function(a){a=String(a);return a.charAt(0).toUpperCase()+a.slice(1)};b.setFilterParams("ucfirst",{safe:!0});d.lower=function(a){return String(a).toLowerCase()};b.setFilterParams("lower",{safe:!0});d.lcfirst=function(a){a=String(a);return a.charAt(0).toLowerCase()+a.slice(1)};b.setFilterParams("lcfirst",
{safe:!0});d.trim=function(a){return String(a).trim()};b.setFilterParams("trim",{safe:!0});var P=/\s{2,}/g;d.collapse=function(a){return String(a).replace(P," ").trim()};b.setFilterParams("collapse",{safe:!0});d.truncate=function(a,c,b,d){a=String(a);if(!a||a.length<=c)return a;a=a.slice(0,c-1);c=a.length;for(var f=void 0;c--&&b;)if(" "===a.charAt(c))f=c;else if(void 0!==f)break;return(void 0!==f?a.slice(0,f):a)+(d?"&#8230;":"\u2026")};d.repeat=function(a,c){return Array(null!=c?c+1:3).join(a)};b.setFilterParams("repeat",
{safe:!0});d.remove=function(a,c){return String(a).replace(c,"")};d.replace=function(a,c,b){return String(a).replace(c,b)};var Q=/\${(.*?)}/g;d.tpl=function(a,c){return String(a).replace(Q,function(a,b){return b in c?c[b]:""})};d.json=function(a){return JSON.stringify(a)};d.string=function(a){return"object"===("undefined"===typeof a?"undefined":G(a))&&!1===a instanceof String?JSON.stringify(a):String(a)};d.parse=function(a){return"string"===typeof a?JSON.parse(a):a};d["default"]=function(a,c){return void 0===
a?c:a};b.setFilterParams("default",{"!undef":!0});var R=/\r?\n|\n/g;d.nl2br=function(a,c,f,e,k){a=a.split(R);for(var g="",h=0;h<a.length;h++){var x=a[h],n=h===a.length-1;e||F[f]?(g+=d.html(x),n||(g+="<br"+("xml"===k?"/":"")+">")):(b.appendChild(c,x,f),n||b.appendChild(c,new b.Element("br",f),f))}return g};b.setFilterParams("nl2br",{"!html":!0,bind:["$0",function(a){return"'"+a.renderMode+"'"},function(a){return a.stringResult},"$0",function(a){return"'"+a.doctype+"'"}]});d.attrKey=function(a){return(a=
w.exec(String(a)))&&a[1]||"undefined"};d.attrKeyGroup=function(a){return(a=w.exec(String(a)))&&a[1]||""};var S=/(javascript)(:|;)/g;d.attrValue=function(a){return String(a).replace(S,"$1&#31;$2")};d.attr=function(a,c,f,e,k,h,m){function g(a,c){c=c||"";b.forEach(a,function(a,b){if(a!==m){if(a&&a.constructor===Object)return b=d.attrKeyGroup(b),g(a,c+(!b.length||u[b.slice(-1)]?b:b+"-"));b=c+b;for(var e=b[0].toLowerCase(),f=1;f<b.length;f++){var h=b.charAt(f),l=h.toUpperCase();l===h&&l!==h.toLowerCase()?
e+="-"+h:e+=h}b=e.toLowerCase();k[b]=n[b]=[a]}});return new b.HTMLObject(n,"attrValue")}if("attrKey"!==e||!a||a.constructor!==Object)return q(c)&&a instanceof c?a:String(a);var n={};return g(a)};b.setFilterParams("attr",{"!html":!0,bind:["Unsafe",function(a){return"'"+a.doctype+"'"},"$attrType",function(a){return a.getVar("$attrs")},"TRUE","FALSE"],test:function(a){return l(a)}});return b}
"object"===typeof exports&&"undefined"!==typeof module?module.exports=p():"function"===typeof define&&define.amd?define("Snakeskin",p):this.Snakeskin=p();
}).call(this);
