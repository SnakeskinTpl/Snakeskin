/**!
 * @status stable
 * @version 1.0.0
 */

Snakeskin.addDirective(
	'return',

	{
		inBlock: true
	},

	function (command) {
		this.startInlineDir();
		if (this.isSimpleOutput()) {
			if (this.firstProto) {
				if (command) {
					this.save('__SNAKESKIN_RESULT__ += ' + this.prepareOutput(command) + ';');
				}

				this.save('break;');

			} else {
				if (command) {
					this.save(this.prepareOutput('return ' + command + ';', true));

				} else {
					this.save('return __SNAKESKIN_RESULT__;');
				}
			}
		}
	}
);