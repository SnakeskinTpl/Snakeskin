<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Документ без названия</title>
	</head>
	
	<body>
		<script type="text/html" id="my">
			{template test(l = 3)}
				{a = '==34343=sd='}
				{r = 2}
				
				<!doctype html>
				<html>
					{block header}
						<head>
							{block title}
								{forEach a => el}
								{/if a == 2}
								{/end}
								
								{a|test 1,'1|23',3|test2 1|test3}
							{/end}
						</head>
					{/end}
					
					{block footer}
					{/end}
				</html>
			{/end}
			
			{template test2(j = 2) extends test}
				{a = 33}
				{g = 1}
				{r = 1}
				
				{block title}
					{console.log(a)}
					<title>тест наследования</title>
				{/end}
				
				{block footer}
					{a + g}
				{/end}
				
				{block next}
					{a}
				{/end}
			{/end}
			
			{template test3(j) extends test2}
				{block footer}
					{with a.t}
						{f}
						{with a.t}
							{f}
						{/end}
					{/end}
				{/end}
			{/end}
		</script>
		<script src="core.js"></script>
		<script>
			var a = Snakeskin.compile(document.getElementById('my'));
		</script>
	</body>
</html>