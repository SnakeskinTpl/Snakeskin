var __NEJS_THIS__=this;if(!Array.isArray){var toString=Object.prototype.toString;Array.isArray=function(a){return"[object Array]"===toString.call(a)}}String.prototype.trim||(String.prototype.trim=function(){for(var a=this.replace(/^\s\s*/,""),b=a.length,c=/\s/;c.test(a.charAt(--b)););return a.substring(0,b+1)});var __NEJS_THIS__=this,Snakeskin={VERSION:[3,2,2],Directions:{},Filters:{},Vars:{},cache:{}};!function(a){Snakeskin.importFilters=function(a,b){var c=Snakeskin.Filters;if(b)for(var d=b.split("."),e=0;e<d.length;e++)c[d[e]]||(c[d[e]]={}),c=c[d[e]];for(var f in a)a.hasOwnProperty(f)&&(c[f]=a[f])};var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},c=/[&<>"'\/]/g,d=function(a){return b[a]};Snakeskin.Filters.html=function(a){return(a+"").replace(c,d)},Snakeskin.Filters.undef=function(a){return void 0!==a?a:""};var e={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#x2F;":"/"},f=/&amp;|&lt;|&gt;|&quot;|&#39;|&#x2F;/g,g=function(a){return e[a]};Snakeskin.Filters.uhtml=function(a){return(a+"").replace(f,g)};var h=/<\/?[^>]+>/g;Snakeskin.Filters.stripTags=function(a){return(a+"").replace(h,"")};var i=/%5B/g,j=/%5D/g;Snakeskin.Filters.uri=function(a){return encodeURI(a+"").replace(i,"[").replace(j,"]")},Snakeskin.Filters.upper=function(a){return(a+"").toUpperCase()},Snakeskin.Filters.ucfirst=function(a){return a+="",a.charAt(0).toUpperCase()+a.substring(1)},Snakeskin.Filters.lower=function(a){return(a+"").toLowerCase()},Snakeskin.Filters.lcfirst=function(a){return a+="",a.charAt(0).toLowerCase()+a.substring(1)},Snakeskin.Filters.trim=function(a){return(a+"").trim()};var k=/\s{2,}/g;Snakeskin.Filters.collapse=function(a){return(a+"").replace(k," ").trim()},Snakeskin.Filters.truncate=function(a,b,c){if(a+="",!a||a.length<=b)return a;for(var d,e=a.substring(0,b-1),f=e.length;f--&&c;)if(" "===e.charAt(f))d=f;else if(void 0!==d)break;return(void 0!==d?e.substring(0,d):e)+"â€¦"},Snakeskin.Filters.repeat=function(a,b){return new Array(b+1||3).join(a)},Snakeskin.Filters.remove=function(a,b){return(a+"").replace(b,"")},Snakeskin.Filters.replace=function(a,b,c){return(a+"").replace(b,c)},Snakeskin.Filters.json=function(a){return"object"==typeof a?JSON.stringify(a):a+""},a&&(module.exports=Snakeskin)}("undefined"==typeof window);